<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8"/>
    <title>ECharts</title>
    <!-- 引入刚刚下载的 ECharts 文件 -->
    <script src="./jquery.js"></script>
    <script src="./echarts.js"></script>
</head>

<body>
<div id="main" style="width: 1000px;height:800px;"></div>
</body>

<!-- 为 ECharts 准备一个定义了宽高的 DOM -->
<script type="text/javascript">
    var chartDom = document.getElementById('main');
    var myChart = echarts.init(chartDom);
    var option;

    myChart.showLoading();
    $.getJSON('./out.json', function (graph) {
        myChart.hideLoading();
        option = {
            tooltip: {},
            legend: [{
                data: graph.categories.map(function (a) {
                    return a.name;
                })
            }],
            series: [{
                type: 'graph',
                layout: 'force',
                data: graph.nodes,
                links: graph.links,
                categories: graph.categories,
                roam: true,
                edgeSymbol: ['none', 'arrow'],
                // edgeSymbolSize: 2,
                force: {
                    repulsion: 2500,
                    edgeLength: 4,
                },
                label: {
                    show: true,
                },
                draggable: true,
                edgeLabel: {
                    normal: {
                        show: true,
                        textStyle: {
                            fontSize: 12
                        },
                        formatter: function (x) {
                            return x.data.value
                        }
                    }
                },
                lineStyle: {
                    normal: {
                        color: 'target',
                        width: 1
                    }
                }
            }]
        };
        myChart.setOption(option);
    });
</script>
</html>